@model IEnumerable<CBCenter.Models.PreviousOrderDetails>

<style>
    .clickable {
        cursor: pointer;
    }

    .panel-heading span {
        margin-top: -20px;
        font-size: 15px;
    }
</style>
<div>
    <div class="panel panel-info" id="prvPanel">
        <div class="panel-heading">
            <h3 class="panel-title">Previous Order Details</h3>
            <span class="pull-right clickable"><i class="glyphicon glyphicon-chevron-up"></i></span>
        </div>
        <div class="panel-body">
            <table class="table table-bordered">
                <tr>
                    <th>Bill No.</th>
                    <th>Order Date</th>
                    <th>Total Amount</th>
                </tr>
                @foreach (var item in Model)
                {
                <tr>
                    <td>
                        @item.BillNo
                    </td>
                    <td>
                        @item.OrderDate
                    </td>
                    
                    <td>@(item.TotalOrderPrice.Value.ToString("#.00"))</td>
                    
                </tr>
                }
                @if (Model == null || Model.Count() == 0)
                {
                    <tfoot>
                        <tr>
                            <th colspan="3">
                                No, any previous order for this school
                            </th>
                        </tr>
                    </tfoot>
                }

            </table>

        </div>
    </div>
</div>

<script>
   
    $(document).on('click', '.panel-heading span.clickable', function (e) {
        var $this = $(this);
        if (!$this.hasClass('panel-collapsed')) {
            $this.parents('#prvPanel').find('.panel-body').slideUp();
            $this.addClass('panel-collapsed');
            $this.find('i').removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');
        } else {
            $this.parents('#prvPanel').find('.panel-body').slideDown();
            $this.removeClass('panel-collapsed');
            $this.find('i').removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');
        }
    })
</script>